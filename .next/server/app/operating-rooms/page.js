(()=>{var e={};e.id=558,e.ids=[558],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},2852:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),r(246),r(2029),r(5866);var t=r(3191),o=r(8716),i=r(7922),a=r.n(i),l=r(5231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(s,n);let c=["",{children:["operating-rooms",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,246)),"/Users/ylanebouchenino/Desktop/01SHIFT/OR-harmony-next/src/app/operating-rooms/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/ylanebouchenino/Desktop/01SHIFT/OR-harmony-next/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/ylanebouchenino/Desktop/01SHIFT/OR-harmony-next/src/app/operating-rooms/page.tsx"],m="/operating-rooms/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/operating-rooms/page",pathname:"/operating-rooms",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3807:(e,s,r)=>{Promise.resolve().then(r.bind(r,195))},195:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>_});var t=r(326),o=r(4226),i=r(4705),a=r(2660),l=r(1664),n=r(1190),c=r(9752),d=r(8443),m=r(6066),u=r(4794),x=r(9280),h=r(9654),p=r(2015),g=r(3855),f=r(9734);let j=(0,r(2881).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var v=r(1941),y=r(7577);let b=["General Surgery","Cardiac Surgery","Neurology","Orthopedics","Emergency Surgery","Pediatric Surgery","Robotic Surgery","Other"];function _(){let[e,s]=(0,y.useState)([]),[r,_]=(0,y.useState)(""),[N,w]=(0,y.useState)(!0),[C,S]=(0,y.useState)(!1),[q,k]=(0,y.useState)(null),[O,F]=(0,y.useState)(!1),[E,P]=(0,y.useState)(!1),[R,A]=(0,y.useState)({room_number:"",location:"",specialty:"",notes:"",is_active:!0}),[I,L]=(0,y.useState)({room_number:"",location:"",specialty:"",notes:"",is_active:!0}),[D,$]=(0,y.useState)(!1),[z,T]=(0,y.useState)({}),B=e.filter(e=>{let s=r.toLowerCase();return e.room_number.toLowerCase().includes(s)||e.location&&e.location.toLowerCase().includes(s)||e.specialty&&e.specialty.toLowerCase().includes(s)}),U=e=>{k(e),F(!0),P(!1)},Z=()=>{q&&(A({room_number:q.room_number,location:q.location||"",specialty:q.specialty||"",notes:q.notes||"",is_active:q.is_active}),P(!0))},M=async()=>{if(q&&confirm(`Are you sure you want to delete ${q.room_number}? This action cannot be undone.`)){$(!0);try{await v.k.delete(q.id),s(e=>e.filter(e=>e.id!==q.id)),F(!1),k(null),P(!1),alert("Operating room deleted successfully!")}catch(e){console.error("Error deleting room:",e),alert(`Error deleting room: ${e instanceof Error?e.message:"Unknown error"}`)}finally{$(!1)}}},G=(e,s)=>{A(r=>({...r,[e]:s}))},H=(s,r)=>{z[s]&&T(e=>{let r={...e};return delete r[s],r}),L(e=>({...e,[s]:r})),"room_number"===s&&"string"==typeof r&&e.find(e=>e.room_number.toLowerCase()===r.toLowerCase())&&T(e=>({...e,room_number:"This room number is already registered"}))},X=async r=>{r.preventDefault(),$(!0);try{if(!R.room_number)throw Error("Please fill in all required fields");if(e.find(e=>e.id!==q.id&&e.room_number.toLowerCase()===R.room_number.toLowerCase()))throw Error(`A room with number "${R.room_number}" already exists`);let r=await v.k.update(q.id,{room_number:R.room_number,location:R.location,specialty:R.specialty,notes:R.notes,is_active:R.is_active});s(e=>e.map(e=>e.id===q.id?r:e)),k(r),P(!1),alert("Operating room updated successfully!")}catch(e){console.error("Error updating room:",e),alert(`Error updating room: ${e instanceof Error?e.message:"Unknown error"}`)}finally{$(!1)}},Q=async r=>{r.preventDefault(),$(!0);try{if(!I.room_number)throw Error("Please fill in all required fields");if(e.find(e=>e.room_number.toLowerCase()===I.room_number.toLowerCase()))throw Error(`A room with number "${I.room_number}" already exists`);let r=await v.k.create({room_number:I.room_number,location:I.location,specialty:I.specialty,notes:I.notes,is_active:I.is_active});s(e=>[...e,r]),L({room_number:"",location:"",specialty:"",notes:"",is_active:!0}),S(!1),alert("Operating room added successfully!")}catch(e){console.error("Error creating room:",e),alert(`Error creating room: ${e instanceof Error?e.message:"Unknown error"}`)}finally{$(!1)}};return(0,t.jsxs)(a.SidebarProvider,{children:[t.jsx(o.AppSidebar,{variant:"inset"}),(0,t.jsxs)(a.SidebarInset,{children:[t.jsx(i.H,{}),t.jsx("div",{className:"flex flex-1 flex-col",children:t.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:t.jsx("div",{className:"flex flex-col gap-4 py-4 md:gap-6 md:py-6",children:t.jsx("div",{className:"px-4 lg:px-6",children:(0,t.jsxs)("div",{className:"p-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Operating Rooms"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage surgical suites and equipment"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(m.yo,{open:C,onOpenChange:S,children:[t.jsx(m.aM,{asChild:!0,children:(0,t.jsxs)(l.z,{children:[t.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Add Room"]})}),(0,t.jsxs)(m.ue,{className:"w-[400px] sm:w-[540px] overflow-y-auto",children:[(0,t.jsxs)(m.Tu,{children:[t.jsx(m.bC,{children:"Add New Operating Room"}),t.jsx(m.Ei,{children:"Fill in the details to add a new operating room to the system."})]}),(0,t.jsxs)("form",{onSubmit:Q,className:"space-y-6 mt-6 pb-6",children:[t.jsx("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(f.Z,{className:"h-5 w-5"}),"Basic Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"room_number",children:"Room Number *"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(j,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(n.I,{id:"room_number",value:I.room_number,onChange:e=>H("room_number",e.target.value),placeholder:"OR-101",className:`pl-10 ${z.room_number?"border-red-500":""}`,required:!0})]}),z.room_number&&t.jsx("p",{className:"text-sm text-red-500",children:z.room_number})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"location",children:"Location"}),t.jsx(n.I,{id:"location",value:I.location,onChange:e=>H("location",e.target.value),placeholder:"Main Building, Floor 2"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"specialty",children:"Specialty"}),(0,t.jsxs)(x.Ph,{value:I.specialty,onValueChange:e=>H("specialty",e),children:[t.jsx(x.i4,{children:t.jsx(x.ki,{placeholder:"Select specialty"})}),t.jsx(x.Bw,{children:b.map(e=>t.jsx(x.Ql,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"notes",children:"Notes"}),t.jsx(p.g,{id:"notes",value:I.notes,onChange:e=>H("notes",e.target.value),placeholder:"Additional notes about the room...",rows:3})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(h.X,{id:"is_active",checked:I.is_active,onCheckedChange:e=>H("is_active",e)}),t.jsx(u._,{htmlFor:"is_active",children:"Active Room"})]})]})]})}),(0,t.jsxs)(m.FF,{children:[t.jsx(l.z,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancel"}),t.jsx(l.z,{type:"submit",disabled:D||Object.keys(z).length>0,children:D?"Adding...":"Add Room"})]})]})]})]}),t.jsx(m.yo,{open:O,onOpenChange:F,children:t.jsx(m.ue,{className:"w-[400px] sm:w-[600px] overflow-y-auto",children:q&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(m.Tu,{children:[(0,t.jsxs)(m.bC,{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 text-2xl font-bold text-blue-600",children:t.jsx(f.Z,{className:"h-8 w-8"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["#",q.room_number]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:q.location||"No location specified"})]})]}),t.jsx(m.Ei,{children:E?"Edit room information":`Detailed information about room ${q.room_number}`})]}),E?t.jsx("form",{id:"edit-room-form",onSubmit:X,className:"space-y-6 mt-6",children:t.jsx("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(f.Z,{className:"h-5 w-5"}),"Basic Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"edit_room_number",children:"Room Number *"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(j,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(n.I,{id:"edit_room_number",value:R.room_number,onChange:e=>G("room_number",e.target.value),placeholder:"OR-101",className:"pl-10",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"edit_location",children:"Location"}),t.jsx(n.I,{id:"edit_location",value:R.location,onChange:e=>G("location",e.target.value),placeholder:"Main Building, Floor 2"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"edit_specialty",children:"Specialty"}),(0,t.jsxs)(x.Ph,{value:R.specialty,onValueChange:e=>G("specialty",e),children:[t.jsx(x.i4,{children:t.jsx(x.ki,{placeholder:"Select specialty"})}),t.jsx(x.Bw,{children:b.map(e=>t.jsx(x.Ql,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"edit_notes",children:"Notes"}),t.jsx(p.g,{id:"edit_notes",value:R.notes,onChange:e=>G("notes",e.target.value),placeholder:"Additional notes about the room...",rows:3})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(h.X,{id:"edit_is_active",checked:R.is_active,onCheckedChange:e=>G("is_active",e)}),t.jsx(u._,{htmlFor:"edit_is_active",children:"Active Room"})]})]})]})})}):(0,t.jsxs)("div",{className:"space-y-6 mt-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(f.Z,{className:"h-5 w-5"}),"Basic Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{className:"text-sm font-medium text-muted-foreground",children:"Room Number"}),(0,t.jsxs)("div",{className:"text-lg font-medium",children:["#",q.room_number]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{className:"text-sm font-medium text-muted-foreground",children:"Location"}),t.jsx("div",{className:"text-lg font-medium",children:q.location||"Not specified"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{className:"text-sm font-medium text-muted-foreground",children:"Specialty"}),t.jsx("div",{className:"text-lg font-medium",children:q.specialty||"Not specified"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),t.jsx(d.C,{variant:q.is_active?"default":"destructive",children:q.is_active?"Active":"Inactive"})]})]})]}),q.notes&&(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),t.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:t.jsx("p",{className:"text-sm",children:q.notes})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"System Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{className:"text-sm font-medium text-muted-foreground",children:"Room ID"}),t.jsx("div",{className:"text-sm font-mono bg-gray-100 p-2 rounded",children:q.id})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{className:"text-sm font-medium text-muted-foreground",children:"Created"}),t.jsx("div",{className:"text-sm",children:new Date(q.created_date).toLocaleDateString()})]})]})]})]}),t.jsx(m.FF,{className:"mt-6",children:E?(0,t.jsxs)(t.Fragment,{children:[t.jsx(l.z,{type:"button",variant:"outline",onClick:()=>{P(!1)},children:"Cancel"}),t.jsx(l.z,{type:"submit",form:"edit-room-form",disabled:D,children:D?"Updating...":"Update Room"}),t.jsx(l.z,{type:"button",variant:"destructive",onClick:M,disabled:D,children:D?"Deleting...":"Delete Room"})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(m.sw,{asChild:!0,children:t.jsx(l.z,{variant:"outline",children:"Close"})}),(0,t.jsxs)(l.z,{type:"button",variant:"outline",onClick:e=>{e.preventDefault(),e.stopPropagation(),Z()},children:[t.jsx(f.Z,{className:"h-4 w-4 mr-2"}),"Edit Room"]})]})})]})})})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx(n.I,{placeholder:"Search rooms by name, number, or equipment...",value:r,onChange:e=>_(e.target.value),className:"max-w-md"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[B.length," of ",e.length," rooms"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:N?t.jsx("div",{children:"Loading..."}):0===B.length?t.jsx("div",{children:"No operating rooms found."}):B.map(e=>t.jsx(c.Zb,{className:"hover:shadow-md transition-shadow cursor-pointer aspect-square",onClick:()=>U(e),children:(0,t.jsxs)(c.aY,{className:"p-6 h-full flex flex-col",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 text-blue-600 mb-4",children:t.jsx(f.Z,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{className:"text-center flex-1",children:[(0,t.jsxs)("div",{className:"font-semibold text-lg mb-1",children:["#",e.room_number]}),t.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:e.location||"No location"}),(0,t.jsxs)("div",{className:"flex gap-2 justify-center mb-3",children:[e.specialty&&t.jsx(d.C,{variant:"secondary",children:e.specialty}),t.jsx(d.C,{variant:e.is_active?"default":"destructive",children:e.is_active?"Active":"Inactive"})]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:e.notes?t.jsx("span",{className:"line-clamp-2",children:e.notes}):t.jsx("span",{children:"No notes"})})]})]})},e.id))})]})})})})})]})]})}},2015:(e,s,r)=>{"use strict";r.d(s,{g:()=>a});var t=r(326),o=r(7577),i=r(1223);let a=o.forwardRef(({className:e,...s},r)=>t.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));a.displayName="Textarea"},1941:(e,s,r)=>{"use strict";r.d(s,{k:()=>o});var t=r(2777);let o={async getAll(){console.log("Fetching operating rooms from Supabase...");let{data:e,error:s}=await t.O.from("operating_rooms").select("*").order("room_number");if(s)throw console.error("Error fetching operating rooms:",s),s;return console.log("Operating rooms fetched successfully:",e),e},async getActive(){let{data:e,error:s}=await t.O.from("operating_rooms").select("*").eq("is_active",!0).order("room_number");if(s)throw s;return e},async getById(e){let{data:s,error:r}=await t.O.from("operating_rooms").select("*").eq("id",e).single();if(r)throw r;return s},async create(e){let{data:s,error:r}=await t.O.from("operating_rooms").insert(e).select().single();if(r)throw r;return s},async update(e,s){let{data:r,error:o}=await t.O.from("operating_rooms").update(s).eq("id",e).select().single();if(o)throw o;return r},async softDelete(e){let{data:s,error:r}=await t.O.from("operating_rooms").update({is_active:!1}).eq("id",e).select().single();if(r)throw r;return s},async delete(e){let{error:s}=await t.O.from("operating_rooms").delete().eq("id",e);if(s)throw s;return{success:!0}},async getBySpecialty(e){let{data:s,error:r}=await t.O.from("operating_rooms").select("*").eq("specialty",e).eq("is_active",!0).order("room_number");if(r)throw r;return s},async search(e){let{data:s,error:r}=await t.O.from("operating_rooms").select("*").or(`room_number.ilike.%${e}%,location.ilike.%${e}%,specialty.ilike.%${e}%`).eq("is_active",!0).order("room_number");if(r)throw r;return s}}},246:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(8570).createProxy)(String.raw`/Users/ylanebouchenino/Desktop/01SHIFT/OR-harmony-next/src/app/operating-rooms/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[975,404,683,84,889,943],()=>r(2852));module.exports=t})();
(()=>{var e={};e.id=108,e.ids=[108],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},1463:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d}),r(8552),r(2029),r(5866);var s=r(3191),a=r(8716),o=r(7922),n=r.n(o),l=r(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["time-off",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8552)),"/Users/ylanebouchenino/Desktop/01SHIFT/OR-harmony-next/src/app/time-off/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/ylanebouchenino/Desktop/01SHIFT/OR-harmony-next/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ylanebouchenino/Desktop/01SHIFT/OR-harmony-next/src/app/time-off/page.tsx"],u="/time-off/page",p={require:r,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/time-off/page",pathname:"/time-off",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3796:(e,t,r)=>{Promise.resolve().then(r.bind(r,3124))},3124:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(326),a=r(7577),o=r(4226),n=r(4705),l=r(2660),i=r(9752),d=r(1223);let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:(0,d.cn)("w-full caption-bottom text-sm",e),...t})}));c.displayName="Table";let u=a.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:(0,d.cn)("[&_tr]:border-b",e),...t}));u.displayName="TableHeader";let p=a.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:(0,d.cn)("[&_tr:last-child]:border-0",e),...t}));p.displayName="TableBody",a.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let f=a.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));f.displayName="TableRow";let x=a.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));x.displayName="TableHead";let m=a.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));m.displayName="TableCell",a.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";var h=r(7287),v=r(5079),g=r(5108),j=r(1664);function y(){let[e,t]=(0,a.useState)([]),[r,y]=(0,a.useState)(!0),[b,w]=(0,a.useState)(null),_=async(e,r)=>{w(e);try{await h.u.updateStatus(e,r),t(t=>t.map(t=>t.id===e?{...t,status:r}:t))}catch{}finally{w(null)}};return(0,s.jsxs)(l.Hn,{children:[s.jsx(o.S,{variant:"inset"}),(0,s.jsxs)(l.kV,{children:[s.jsx(n.H,{}),s.jsx("div",{className:"flex flex-1 flex-col",children:s.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:s.jsx("div",{className:"flex flex-col gap-4 py-4 md:gap-6 md:py-6",children:s.jsx("div",{className:"px-4 lg:px-6",children:(0,s.jsxs)(i.Zb,{children:[s.jsx(i.Ol,{children:s.jsx(i.ll,{children:"Time Off Requests"})}),s.jsx(i.aY,{children:r?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading requests..."}):(0,s.jsxs)(c,{children:[s.jsx(u,{children:(0,s.jsxs)(f,{children:[s.jsx(x,{children:"Doctor"}),s.jsx(x,{children:"Start Date"}),s.jsx(x,{children:"End Date"}),s.jsx(x,{children:"Type"}),s.jsx(x,{children:"Status"}),s.jsx(x,{children:"Notes"})]})}),s.jsx(p,{children:e.map(e=>(0,s.jsxs)(f,{children:[s.jsx(m,{children:e.doctors?.name||e.doctor_id}),s.jsx(m,{children:(0,v.WU)(new Date(e.request_start_date),"PPP")}),s.jsx(m,{children:(0,v.WU)(new Date(e.request_end_date),"PPP")}),s.jsx(m,{children:e.type.replace("_"," ")}),s.jsx(m,{children:(0,s.jsxs)(g.J2,{children:[s.jsx(g.xo,{asChild:!0,children:s.jsx(j.z,{variant:"approved"===e.status?"default":"rejected"===e.status?"destructive":"outline",size:"sm",className:(0,d.cn)("w-full justify-start",b===e.id&&"opacity-50 pointer-events-none"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),s.jsx(g.yk,{align:"start",className:"w-40 p-2",children:s.jsx("div",{className:"flex flex-col gap-1",children:["pending","approved","rejected"].map(t=>s.jsx(j.z,{variant:"approved"===t?"default":"rejected"===t?"destructive":"outline",size:"sm",className:"w-full justify-start",disabled:b===e.id||e.status===t,onClick:()=>_(e.id,t),children:t.charAt(0).toUpperCase()+t.slice(1)},t))})})]})}),s.jsx(m,{children:e.notes})]},e.id))})]})})]})})})})})]})]})}},9752:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>l,SZ:()=>d,Zb:()=>n,aY:()=>c,eW:()=>u,ll:()=>i});var s=r(326),a=r(7577),o=r(1223);let n=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let l=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let i=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));i.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},5108:(e,t,r)=>{"use strict";r.d(t,{J2:()=>Z,yk:()=>V,xo:()=>G});var s=r(326),a=r(7577),o=r(2561),n=r(8051),l=r(3095),i=r(825),d=r(699),c=r(441),u=r(8957),p=r(7103),f=r(3078),x=r(9815),m=r(5226),h=r(4214),v=r(2067),g=r(5664),j=r(8260),y="Popover",[b,w]=(0,l.b)(y,[p.D7]),_=(0,p.D7)(),[N,P]=b(y),R=e=>{let{__scopePopover:t,children:r,open:o,defaultOpen:n,onOpenChange:l,modal:i=!1}=e,d=_(t),c=a.useRef(null),[f,x]=a.useState(!1),[m,h]=(0,v.T)({prop:o,defaultProp:n??!1,onChange:l,caller:y});return(0,s.jsx)(p.fC,{...d,children:(0,s.jsx)(N,{scope:t,contentId:(0,u.M)(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:a.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:f,onCustomAnchorAdd:a.useCallback(()=>x(!0),[]),onCustomAnchorRemove:a.useCallback(()=>x(!1),[]),modal:i,children:r})})};R.displayName=y;var C="PopoverAnchor";a.forwardRef((e,t)=>{let{__scopePopover:r,...o}=e,n=P(C,r),l=_(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=n;return a.useEffect(()=>(i(),()=>d()),[i,d]),(0,s.jsx)(p.ee,{...l,...o,ref:t})}).displayName=C;var q="PopoverTrigger",O=a.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,l=P(q,r),i=_(r),d=(0,n.e)(t,l.triggerRef),c=(0,s.jsx)(m.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":z(l.open),...a,ref:d,onClick:(0,o.M)(e.onClick,l.onOpenToggle)});return l.hasCustomAnchor?c:(0,s.jsx)(p.ee,{asChild:!0,...i,children:c})});O.displayName=q;var k="PopoverPortal",[D,A]=b(k,{forceMount:void 0}),F=e=>{let{__scopePopover:t,forceMount:r,children:a,container:o}=e,n=P(k,t);return(0,s.jsx)(D,{scope:t,forceMount:r,children:(0,s.jsx)(x.z,{present:r||n.open,children:(0,s.jsx)(f.h,{asChild:!0,container:o,children:a})})})};F.displayName=k;var T="PopoverContent",S=a.forwardRef((e,t)=>{let r=A(T,e.__scopePopover),{forceMount:a=r.forceMount,...o}=e,n=P(T,e.__scopePopover);return(0,s.jsx)(x.z,{present:a||n.open,children:n.modal?(0,s.jsx)(M,{...o,ref:t}):(0,s.jsx)(H,{...o,ref:t})})});S.displayName=T;var E=(0,h.Z8)("PopoverContent.RemoveScroll"),M=a.forwardRef((e,t)=>{let r=P(T,e.__scopePopover),l=a.useRef(null),i=(0,n.e)(t,l),d=a.useRef(!1);return a.useEffect(()=>{let e=l.current;if(e)return(0,g.Ry)(e)},[]),(0,s.jsx)(j.Z,{as:E,allowPinchZoom:!0,children:(0,s.jsx)(I,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),d.current||r.triggerRef.current?.focus()}),onPointerDownOutside:(0,o.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,s=2===t.button||r;d.current=s},{checkForDefaultPrevented:!1}),onFocusOutside:(0,o.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),H=a.forwardRef((e,t)=>{let r=P(T,e.__scopePopover),o=a.useRef(!1),n=a.useRef(!1);return(0,s.jsx)(I,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(o.current||r.triggerRef.current?.focus(),t.preventDefault()),o.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(o.current=!0,"pointerdown"!==t.detail.originalEvent.type||(n.current=!0));let s=t.target;r.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),I=a.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:n,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:x,onInteractOutside:m,...h}=e,v=P(T,r),g=_(r);return(0,d.EW)(),(0,s.jsx)(c.M,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:n,children:(0,s.jsx)(i.XB,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:x,onDismiss:()=>v.onOpenChange(!1),children:(0,s.jsx)(p.VY,{"data-state":z(v.open),role:"dialog",id:v.contentId,...g,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),U="PopoverClose";function z(e){return e?"open":"closed"}a.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,n=P(U,r);return(0,s.jsx)(m.WV.button,{type:"button",...a,ref:t,onClick:(0,o.M)(e.onClick,()=>n.onOpenChange(!1))})}).displayName=U,a.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,o=_(r);return(0,s.jsx)(p.Eh,{...o,...a,ref:t})}).displayName="PopoverArrow";var W=r(1223);let Z=R,G=O,V=a.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},o)=>s.jsx(F,{children:s.jsx(S,{ref:o,align:t,sideOffset:r,className:(0,W.cn)("z-50 w-auto rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none animate-in fade-in-0 data-[state=open]:fade-in-100",e),...a})}));V.displayName=S.displayName},7287:(e,t,r)=>{"use strict";r.d(t,{u:()=>a});var s=r(2777);let a={async create(e){let{data:t,error:r}=await s.O.from("time_off_requests").insert([{...e,status:"pending"}]).select().single();if(r)throw r;return t},async getAll(){let{data:e,error:t}=await s.O.from("time_off_requests").select("*, doctors(name)").order("request_start_date",{ascending:!1});if(t)throw t;return e||[]},async updateStatus(e,t){let{data:r,error:a}=await s.O.from("time_off_requests").update({status:t}).eq("id",e).select().single();if(a)throw a;return r},async getApprovedForDate(e){let{data:t,error:r}=await s.O.from("time_off_requests").select("*").eq("status","approved").lte("request_start_date",e).gte("request_end_date",e);if(r)throw r;return t||[]},async getApprovedForRange(e,t){let{data:r,error:a}=await s.O.from("time_off_requests").select("*").eq("status","approved").or(`and(request_start_date.lte.${t},request_end_date.gte.${e})`);if(a)throw a;return r||[]}}},8552:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Users/ylanebouchenino/Desktop/01SHIFT/OR-harmony-next/src/app/time-off/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[975,420,404,821,79,605],()=>r(1463));module.exports=s})();
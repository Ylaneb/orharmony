(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[660],{2602:function(e,s,a){Promise.resolve().then(a.bind(a,7137))},7137:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return D}});var t=a(7437),i=a(5654),c=a(5670),l=a(5754),n=a(2381),r=a(279),o=a(9820),d=a(9174),m=a(1032),h=a(5060),x=a(5291),p=a(6367),g=a(9397),j=a(9205);let f=(0,j.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_=(0,j.Z)("id-card",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]),v=(0,j.Z)("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);var u=a(9345);let y=(0,j.Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),N=(0,j.Z)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var w=a(5526);let C={async getAll(){let{data:e,error:s}=await w.O.from("doctors").select("*").order("name");if(s)throw s;return e},async getActive(){let{data:e,error:s}=await w.O.from("doctors").select("*").eq("is_active",!0).order("name");if(s)throw s;return e},async getById(e){let{data:s,error:a}=await w.O.from("doctors").select("*").eq("id",e).single();if(a)throw a;return s},async create(e){let{data:s,error:a}=await w.O.from("doctors").insert(e).select().single();if(a)throw a;return s},async update(e,s){let{data:a,error:t}=await w.O.from("doctors").update(s).eq("id",e).select().single();if(t)throw t;return a},async softDelete(e){let{data:s,error:a}=await w.O.from("doctors").update({is_active:!1}).eq("id",e).select().single();if(a)throw a;return s},async delete(e){let{error:s}=await w.O.from("doctors").delete().eq("id",e);if(s)throw s;return{success:!0}},async getBySpecialty(e){let{data:s,error:a}=await w.O.from("doctors").select("*").eq("specialty",e).eq("is_active",!0).order("name");if(a)throw a;return s},async search(e){let{data:s,error:a}=await w.O.from("doctors").select("*").or("name.ilike.%".concat(e,"%,employee_id.ilike.%").concat(e,"%,specialty.ilike.%").concat(e,"%")).eq("is_active",!0).order("name");if(a)throw a;return s}};var b=a(2265);let k=["Cardiology","Neurology","Orthopedics","General Surgery","Emergency Medicine","Pediatrics","Oncology","Dermatology","Psychiatry","Radiology","Anesthesiology","Urology","Gynecology","Ophthalmology","ENT","Other"];function D(){var e,s,a,j,w;let[D,E]=(0,b.useState)([]),[S,F]=(0,b.useState)(""),[I,A]=(0,b.useState)(!0),[M,z]=(0,b.useState)(!1),[O,q]=(0,b.useState)(null),[P,L]=(0,b.useState)(!1),[Z,X]=(0,b.useState)(!1),[T,B]=(0,b.useState)({name:"",employee_id:"",specialty:"",contact_email:"",contact_telephone:"",is_active:!0,permissions:{manage_timeoff:!1,manage_shifts:!1,manage_assignments:!1,view_reports:!1,manage_doctors:!1}}),[U,V]=(0,b.useState)({name:"",employee_id:"",specialty:"",contact_email:"",contact_telephone:"",is_active:!0,permissions:{manage_timeoff:!1,manage_shifts:!1,manage_assignments:!1,view_reports:!1,manage_doctors:!1}}),[W,R]=(0,b.useState)(!1),[H,G]=(0,b.useState)({});(0,b.useEffect)(()=>{!async function(){A(!0),E(await C.getAll()),A(!1)}()},[]);let J=D.filter(e=>{let s=S.toLowerCase();return e.name.toLowerCase().includes(s)||e.specialty.toLowerCase().includes(s)||e.employee_id.toLowerCase().includes(s)}),Q=e=>{let s=e.replace(/\D/g,""),a=s.startsWith("1")?s:"1".concat(s);return"https://wa.me/".concat(a)},Y=e=>{q(e),L(!0),X(!1)},K=()=>{console.log("startEditing called"),O?(console.log("Starting edit for doctor:",O),B({name:O.name,employee_id:O.employee_id,specialty:O.specialty,contact_email:O.contact_email,contact_telephone:O.contact_telephone,is_active:O.is_active,permissions:O.permissions||{manage_timeoff:!1,manage_shifts:!1,manage_assignments:!1,view_reports:!1,manage_doctors:!1}}),X(!0),console.log("Edit mode enabled, isEditing should be true")):console.log("No selectedDoctor available")},$=async()=>{if(O&&confirm("Are you sure you want to delete Dr. ".concat(O.name,"? This action cannot be undone."))){R(!0);try{console.log("Deleting doctor:",O.id),await C.delete(O.id),console.log("Doctor deleted successfully"),E(e=>e.filter(e=>e.id!==O.id)),L(!1),q(null),X(!1),alert("Doctor deleted successfully!")}catch(e){console.error("Error deleting doctor:",e),alert("Error deleting doctor: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{R(!1)}}},ee=(e,s)=>{if(e.startsWith("permissions.")){let a=e.split(".")[1];B(e=>({...e,permissions:{...e.permissions,[a]:s}}))}else B(a=>({...a,[e]:s}))},es=(e,s)=>{if(H[e]&&G(s=>{let a={...s};return delete a[e],a}),e.startsWith("permissions.")){let a=e.split(".")[1];V(e=>({...e,permissions:{...e.permissions,[a]:s}}))}else V(a=>({...a,[e]:s})),"contact_email"===e&&"string"==typeof s&&D.find(e=>e.contact_email.toLowerCase()===s.toLowerCase())&&G(e=>({...e,contact_email:"This email is already registered"})),"contact_telephone"===e&&"string"==typeof s&&D.find(e=>e.contact_telephone.replace(/\D/g,"")===s.replace(/\D/g,""))&&G(e=>({...e,contact_telephone:"This phone number is already registered"})),"employee_id"===e&&"string"==typeof s&&D.find(e=>e.employee_id.toLowerCase()===s.toLowerCase())&&G(e=>({...e,employee_id:"This employee ID is already registered"}))},ea=async e=>{e.preventDefault(),R(!0);try{if(!T.name||!T.employee_id||!T.specialty||!T.contact_email||!T.contact_telephone)throw Error("Please fill in all required fields");if(D.find(e=>e.id!==O.id&&e.contact_email.toLowerCase()===T.contact_email.toLowerCase()))throw Error('A doctor with email "'.concat(T.contact_email,'" already exists'));if(D.find(e=>e.id!==O.id&&e.contact_telephone.replace(/\D/g,"")===T.contact_telephone.replace(/\D/g,"")))throw Error('A doctor with phone number "'.concat(T.contact_telephone,'" already exists'));if(D.find(e=>e.id!==O.id&&e.employee_id.toLowerCase()===T.employee_id.toLowerCase()))throw Error('A doctor with employee ID "'.concat(T.employee_id,'" already exists'));console.log("Updating doctor with data:",{id:O.id,updates:{name:T.name,employee_id:T.employee_id,specialty:T.specialty,contact_email:T.contact_email,contact_telephone:T.contact_telephone,is_active:T.is_active,permissions:T.permissions}});let e=await C.update(O.id,{name:T.name,employee_id:T.employee_id,specialty:T.specialty,contact_email:T.contact_email,contact_telephone:T.contact_telephone,is_active:T.is_active,permissions:T.permissions});console.log("Doctor updated successfully:",e),E(s=>s.map(s=>s.id===O.id?e:s)),q(e),X(!1),alert("Doctor updated successfully!")}catch(e){console.error("Error updating doctor:",e),alert("Error updating doctor: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{R(!1)}},et=async e=>{e.preventDefault(),R(!0);try{if(!U.name||!U.employee_id||!U.specialty||!U.contact_email||!U.contact_telephone)throw Error("Please fill in all required fields");if(D.find(e=>e.contact_email.toLowerCase()===U.contact_email.toLowerCase()))throw Error('A doctor with email "'.concat(U.contact_email,'" already exists'));if(D.find(e=>e.contact_telephone.replace(/\D/g,"")===U.contact_telephone.replace(/\D/g,"")))throw Error('A doctor with phone number "'.concat(U.contact_telephone,'" already exists'));if(D.find(e=>e.employee_id.toLowerCase()===U.employee_id.toLowerCase()))throw Error('A doctor with employee ID "'.concat(U.employee_id,'" already exists'));let e={name:U.name,employee_id:U.employee_id,specialty:U.specialty,contact_email:U.contact_email,contact_telephone:U.contact_telephone,is_active:U.is_active,permissions:U.permissions};console.log("Creating doctor with data:",e);let s=await C.create(e);console.log("Doctor created successfully:",s),E(e=>[...e,s]),V({name:"",employee_id:"",specialty:"",contact_email:"",contact_telephone:"",is_active:!0,permissions:{manage_timeoff:!1,manage_shifts:!1,manage_assignments:!1,view_reports:!1,manage_doctors:!1}}),z(!1),alert("Doctor added successfully!")}catch(e){console.error("Error creating doctor:",e),alert("Error creating doctor: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{R(!1)}};return(0,t.jsxs)(l.SidebarProvider,{children:[(0,t.jsx)(i.AppSidebar,{variant:"inset"}),(0,t.jsxs)(l.SidebarInset,{children:[(0,t.jsx)(c.H,{}),(0,t.jsx)("div",{className:"flex flex-1 flex-col",children:(0,t.jsx)("div",{className:"@container/main flex flex-1 flex-col gap-2",children:(0,t.jsx)("div",{className:"flex flex-col gap-4 py-4 md:gap-6 md:py-6",children:(0,t.jsx)("div",{className:"px-4 lg:px-6",children:(0,t.jsxs)("div",{className:"p-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Doctors Directory"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Interactive contact list and overview"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.z,{variant:"outline",children:"Import Doctors"}),(0,t.jsxs)(m.yo,{open:M,onOpenChange:z,children:[(0,t.jsx)(m.aM,{asChild:!0,children:(0,t.jsxs)(n.z,{children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Add Doctor"]})}),(0,t.jsxs)(m.ue,{className:"w-[400px] sm:w-[540px] overflow-y-auto",children:[(0,t.jsxs)(m.Tu,{children:[(0,t.jsx)(m.bC,{children:"Add New Doctor"}),(0,t.jsx)(m.Ei,{children:"Fill in the details to add a new doctor to the system."})]}),(0,t.jsxs)("form",{onSubmit:et,className:"space-y-6 mt-6 pb-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(f,{className:"h-5 w-5"}),"Basic Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{htmlFor:"name",children:"Full Name *"}),(0,t.jsx)(r.I,{id:"name",value:U.name,onChange:e=>es("name",e.target.value),placeholder:"Dr. John Smith",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{htmlFor:"employee_id",children:"Employee ID *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(_,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(r.I,{id:"employee_id",value:U.employee_id,onChange:e=>es("employee_id",e.target.value),placeholder:"EMP001",className:"pl-10 ".concat(H.employee_id?"border-red-500":""),required:!0})]}),H.employee_id&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:H.employee_id})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{htmlFor:"specialty",children:"Specialty *"}),(0,t.jsxs)(x.Ph,{value:U.specialty,onValueChange:e=>es("specialty",e),children:[(0,t.jsx)(x.i4,{children:(0,t.jsx)(x.ki,{placeholder:"Select specialty"})}),(0,t.jsx)(x.Bw,{children:k.map(e=>(0,t.jsx)(x.Ql,{value:e,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v,{className:"h-4 w-4"}),e]})},e))})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(u.Z,{className:"h-5 w-5"}),"Contact Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{htmlFor:"contact_email",children:"Email *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(r.I,{id:"contact_email",type:"email",value:U.contact_email,onChange:e=>es("contact_email",e.target.value),placeholder:"doctor@hospital.com",className:"pl-10 ".concat(H.contact_email?"border-red-500":""),required:!0})]}),H.contact_email&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:H.contact_email})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{htmlFor:"contact_telephone",children:"Phone Number *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(y,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(r.I,{id:"contact_telephone",type:"tel",value:U.contact_telephone,onChange:e=>es("contact_telephone",e.target.value),placeholder:"+1-555-0101",className:"pl-10 ".concat(H.contact_telephone?"border-red-500":""),required:!0})]}),H.contact_telephone&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:H.contact_telephone})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Status & Permissions"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.X,{id:"is_active",checked:U.is_active,onCheckedChange:e=>es("is_active",e)}),(0,t.jsx)(h._,{htmlFor:"is_active",children:"Active Doctor"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(h._,{className:"text-sm font-medium",children:"Permissions"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.X,{id:"manage_timeoff",checked:U.permissions.manage_timeoff,onCheckedChange:e=>es("permissions.manage_timeoff",e)}),(0,t.jsx)(h._,{htmlFor:"manage_timeoff",className:"text-sm",children:"Manage Time Off"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.X,{id:"manage_shifts",checked:U.permissions.manage_shifts,onCheckedChange:e=>es("permissions.manage_shifts",e)}),(0,t.jsx)(h._,{htmlFor:"manage_shifts",className:"text-sm",children:"Manage Shifts"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.X,{id:"manage_assignments",checked:U.permissions.manage_assignments,onCheckedChange:e=>es("permissions.manage_assignments",e)}),(0,t.jsx)(h._,{htmlFor:"manage_assignments",className:"text-sm",children:"Manage Assignments"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.X,{id:"view_reports",checked:U.permissions.view_reports,onCheckedChange:e=>es("permissions.view_reports",e)}),(0,t.jsx)(h._,{htmlFor:"view_reports",className:"text-sm",children:"View Reports"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.X,{id:"manage_doctors",checked:U.permissions.manage_doctors,onCheckedChange:e=>es("permissions.manage_doctors",e)}),(0,t.jsx)(h._,{htmlFor:"manage_doctors",className:"text-sm",children:"Manage Doctors"})]})]})]})]})]})]}),(0,t.jsxs)(m.FF,{children:[(0,t.jsx)(n.z,{type:"button",variant:"outline",onClick:()=>z(!1),children:"Cancel"}),(0,t.jsx)(n.z,{type:"submit",disabled:W||Object.keys(H).length>0,children:W?"Adding...":"Add Doctor"})]})]})]})]}),(0,t.jsx)(m.yo,{open:P,onOpenChange:L,children:(0,t.jsx)(m.ue,{className:"w-[400px] sm:w-[600px] overflow-y-auto",children:O&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(m.Tu,{children:[(0,t.jsxs)(m.bC,{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 text-2xl font-bold text-gray-600",children:O.name.split(" ").map(e=>e[0]).join("").slice(0,2)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:O.name}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["#",O.employee_id]})]})]}),(0,t.jsx)(m.Ei,{children:Z?"Edit doctor information":"Detailed information about Dr. ".concat(O.name)})]}),Z?(0,t.jsx)("form",{id:"edit-doctor-form",onSubmit:ea,className:"space-y-6 mt-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(f,{className:"h-5 w-5"}),"Basic Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{htmlFor:"edit_name",children:"Full Name *"}),(0,t.jsx)(r.I,{id:"edit_name",value:T.name,onChange:e=>ee("name",e.target.value),placeholder:"Dr. John Smith",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{htmlFor:"edit_employee_id",children:"Employee ID *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(_,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(r.I,{id:"edit_employee_id",value:T.employee_id,onChange:e=>ee("employee_id",e.target.value),placeholder:"EMP001",className:"pl-10",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{htmlFor:"edit_specialty",children:"Specialty *"}),(0,t.jsxs)(x.Ph,{value:T.specialty,onValueChange:e=>ee("specialty",e),children:[(0,t.jsx)(x.i4,{children:(0,t.jsx)(x.ki,{placeholder:"Select specialty"})}),(0,t.jsx)(x.Bw,{children:k.map(e=>(0,t.jsx)(x.Ql,{value:e,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v,{className:"h-4 w-4"}),e]})},e))})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(u.Z,{className:"h-5 w-5"}),"Contact Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{htmlFor:"edit_contact_email",children:"Email *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(r.I,{id:"edit_contact_email",type:"email",value:T.contact_email,onChange:e=>ee("contact_email",e.target.value),placeholder:"doctor@hospital.com",className:"pl-10",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{htmlFor:"edit_contact_telephone",children:"Phone Number *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(y,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(r.I,{id:"edit_contact_telephone",type:"tel",value:T.contact_telephone,onChange:e=>ee("contact_telephone",e.target.value),placeholder:"+1-555-0101",className:"pl-10",required:!0})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Status & Permissions"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.X,{id:"edit_is_active",checked:T.is_active,onCheckedChange:e=>ee("is_active",e)}),(0,t.jsx)(h._,{htmlFor:"edit_is_active",children:"Active Doctor"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(h._,{className:"text-sm font-medium",children:"Permissions"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.X,{id:"edit_manage_timeoff",checked:T.permissions.manage_timeoff,onCheckedChange:e=>ee("permissions.manage_timeoff",e)}),(0,t.jsx)(h._,{htmlFor:"edit_manage_timeoff",className:"text-sm",children:"Manage Time Off"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.X,{id:"edit_manage_shifts",checked:T.permissions.manage_shifts,onCheckedChange:e=>ee("permissions.manage_shifts",e)}),(0,t.jsx)(h._,{htmlFor:"edit_manage_shifts",className:"text-sm",children:"Manage Shifts"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.X,{id:"edit_manage_assignments",checked:T.permissions.manage_assignments,onCheckedChange:e=>ee("permissions.manage_assignments",e)}),(0,t.jsx)(h._,{htmlFor:"edit_manage_assignments",className:"text-sm",children:"Manage Assignments"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.X,{id:"edit_view_reports",checked:T.permissions.view_reports,onCheckedChange:e=>ee("permissions.view_reports",e)}),(0,t.jsx)(h._,{htmlFor:"edit_view_reports",className:"text-sm",children:"View Reports"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.X,{id:"edit_manage_doctors",checked:T.permissions.manage_doctors,onCheckedChange:e=>ee("permissions.manage_doctors",e)}),(0,t.jsx)(h._,{htmlFor:"edit_manage_doctors",className:"text-sm",children:"Manage Doctors"})]})]})]})]})]})]})}):(0,t.jsxs)("div",{className:"space-y-6 mt-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(f,{className:"h-5 w-5"}),"Basic Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),(0,t.jsx)("div",{className:"text-lg font-medium",children:O.name})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{className:"text-sm font-medium text-muted-foreground",children:"Employee ID"}),(0,t.jsxs)("div",{className:"text-lg font-medium",children:["#",O.employee_id]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{className:"text-sm font-medium text-muted-foreground",children:"Specialty"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(d.C,{variant:"secondary",children:O.specialty})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),(0,t.jsx)(d.C,{variant:O.is_active?"default":"destructive",children:O.is_active?"Active":"Inactive"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(u.Z,{className:"h-5 w-5"}),"Contact Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("a",{href:"mailto:".concat(O.contact_email),className:"text-blue-600 hover:underline",children:O.contact_email})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(y,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("a",{href:"tel:".concat(O.contact_telephone),className:"text-blue-600 hover:underline",children:O.contact_telephone})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,t.jsx)(n.z,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)("a",{href:"tel:".concat(O.contact_telephone),children:[(0,t.jsx)(y,{className:"h-4 w-4 mr-2"}),"Call"]})}),(0,t.jsx)(n.z,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)("a",{href:"mailto:".concat(O.contact_email),children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Email"]})}),(0,t.jsx)(n.z,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)("a",{href:Q(O.contact_telephone),target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(N,{className:"h-4 w-4 mr-2"}),"WhatsApp"]})})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Permissions"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((null===(e=O.permissions)||void 0===e?void 0:e.manage_timeoff)?"bg-green-500":"bg-gray-300")}),(0,t.jsx)("span",{className:"text-sm",children:"Manage Time Off"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((null===(s=O.permissions)||void 0===s?void 0:s.manage_shifts)?"bg-green-500":"bg-gray-300")}),(0,t.jsx)("span",{className:"text-sm",children:"Manage Shifts"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((null===(a=O.permissions)||void 0===a?void 0:a.manage_assignments)?"bg-green-500":"bg-gray-300")}),(0,t.jsx)("span",{className:"text-sm",children:"Manage Assignments"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((null===(j=O.permissions)||void 0===j?void 0:j.view_reports)?"bg-green-500":"bg-gray-300")}),(0,t.jsx)("span",{className:"text-sm",children:"View Reports"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((null===(w=O.permissions)||void 0===w?void 0:w.manage_doctors)?"bg-green-500":"bg-gray-300")}),(0,t.jsx)("span",{className:"text-sm",children:"Manage Doctors"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"System Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{className:"text-sm font-medium text-muted-foreground",children:"Doctor ID"}),(0,t.jsx)("div",{className:"text-sm font-mono bg-gray-100 p-2 rounded",children:O.id})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h._,{className:"text-sm font-medium text-muted-foreground",children:"Created"}),(0,t.jsx)("div",{className:"text-sm",children:new Date(O.created_date).toLocaleDateString()})]})]})]})]}),(0,t.jsx)(m.FF,{className:"mt-6",children:Z?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.z,{type:"button",variant:"outline",onClick:()=>{X(!1)},children:"Cancel"}),(0,t.jsx)(n.z,{type:"submit",form:"edit-doctor-form",disabled:W,children:W?"Updating...":"Update Doctor"}),(0,t.jsx)(n.z,{type:"button",variant:"destructive",onClick:$,disabled:W,children:W?"Deleting...":"Delete Doctor"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.sw,{asChild:!0,children:(0,t.jsx)(n.z,{variant:"outline",children:"Close"})}),(0,t.jsxs)(n.z,{type:"button",variant:"outline",onClick:e=>{e.preventDefault(),e.stopPropagation(),K()},children:[(0,t.jsx)(f,{className:"h-4 w-4 mr-2"}),"Edit Doctor"]})]})})]})})})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)(r.I,{placeholder:"Search doctors by name, specialty, or ID...",value:S,onChange:e=>F(e.target.value),className:"max-w-md"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[J.length," of ",D.length," doctors"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:I?(0,t.jsx)("div",{children:"Loading..."}):0===J.length?(0,t.jsx)("div",{children:"No doctors found."}):J.map(e=>(0,t.jsx)(o.Zb,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>Y(e),children:(0,t.jsx)(o.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-gray-100 text-xl font-bold text-gray-600",children:e.name.split(" ").map(e=>e[0]).join("").slice(0,2)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-semibold text-lg",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["#",e.employee_id]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)(d.C,{variant:"secondary",children:e.specialty}),(0,t.jsx)(d.C,{variant:e.is_active?"default":"destructive",children:e.is_active?"Active":"Inactive"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)(n.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsx)("a",{href:"tel:".concat(e.contact_telephone),title:"Call",children:(0,t.jsx)(y,{className:"h-5 w-5"})})}),(0,t.jsx)(n.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsx)("a",{href:"mailto:".concat(e.contact_email),title:"Email",children:(0,t.jsx)(u.Z,{className:"h-5 w-5"})})}),(0,t.jsx)(n.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsx)("a",{href:Q(e.contact_telephone),target:"_blank",rel:"noopener noreferrer",title:"Text via WhatsApp",children:(0,t.jsx)(N,{className:"h-5 w-5"})})})]})]})})},e.id))})]})})})})})]})]})}}},function(e){e.O(0,[972,716,109,654,89,971,117,744],function(){return e(e.s=2602)}),_N_E=e.O()}]);